<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <script src="/js/dynamic-favicon-manager.js"></script>
    <meta charset="windows-1256">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… - 1999</title>
    <style>
        body {
            background-color: #c0c0c0;
            background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAJUlEQVQoU2NkYGAwZkADGAskB4NYwSiBdAykA8S5E4gRzA8AIY8HAXlQ9rMAAAAASUVORK5CYII=');
            margin: 0;
            padding: 20px;
            font-family: "Arial", "Times New Roman", serif;
            color: #000000;
        }
        
        .main-frame {
            width: 800px;
            margin: 20px auto;
            border: 2px outset #808080;
            background-color: #c0c0c0;
            padding: 2px;
        }
        
        .title-bar {
            background: linear-gradient(to right, #000080, #1084d0);
            color: white;
            padding: 4px 8px;
            font-weight: bold;
            font-size: 13px;
            border: 1px inset #808080;
        }
        
        .content {
            background-color: #ffffff;
            border: 2px inset #808080;
            padding: 20px;
            min-height: 500px;
        }
        
        /* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© */
        .sidebar {
            width: 200px;
            float: right;
            background-color: #f0f0f0;
            border: 2px groove #808080;
            padding: 15px;
            margin-left: 20px;
        }
        
        .sidebar h3 {
            color: #000080;
            border-bottom: 1px dotted #808080;
            padding-bottom: 5px;
            margin-top: 0;
        }
        
        .sidebar ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }
        
        .sidebar li {
            margin-bottom: 8px;
        }
        
        .sidebar a {
            color: #000080;
            text-decoration: none;
            display: block;
            padding: 5px 10px;
            border: 1px outset #808080;
            background-color: #e0e0e0;
        }
        
        .sidebar a:hover {
            background-color: #d0d0d0;
            border: 1px inset #808080;
        }
        
        /* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
        .main-content {
            overflow: hidden;
        }
        
        /* Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… */
        .user-card {
            background-color: #ffffcc;
            border: 2px groove #808080;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .user-card h2 {
            color: #000080;
            margin-top: 0;
        }
        
        /* Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 20px 0;
        }
        
        .stat-box {
            background-color: #f0f0f0;
            border: 2px inset #808080;
            padding: 15px;
            text-align: center;
        }
        
        .stat-box h3 {
            color: #000080;
            margin: 0 0 10px 0;
            font-size: 14px;
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: #000080;
            font-family: "Courier New", monospace;
        }
        
        /* Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .data-table th {
            background-color: #000080;
            color: white;
            padding: 8px;
            text-align: right;
            border: 1px solid #4040a0;
        }
        
        .data-table td {
            padding: 8px;
            border: 1px solid #c0c0c0;
        }
        
        .data-table tr:nth-child(even) {
            background-color: #f8f8f8;
        }
        
        .data-table tr:hover {
            background-color: #e8e8ff;
        }
        
        /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
        .action-button {
            padding: 8px 15px;
            background-color: #008000;
            color: white;
            border: 2px outset #00cc00;
            cursor: pointer;
            font-weight: bold;
            margin: 5px;
        }
        
        .action-button:hover {
            background-color: #00aa00;
            border: 2px inset #00cc00;
        }
        
        .danger-button {
            background-color: #cc0000;
            border-color: #ff4040;
        }
        
        .danger-button:hover {
            background-color: #ff0000;
        }
        
        /* Ø±Ø³Ø§Ø¦Ù„ */
        .message {
            padding: 10px;
            margin: 10px 0;
            border: 2px groove #808080;
            font-weight: bold;
            text-align: center;
        }
        
        .success {
            background-color: #ccffcc;
            color: #006600;
            border-color: #00cc00;
        }
        
        .warning {
            background-color: #ffffcc;
            color: #996600;
            border-color: #ffcc00;
        }
        
        /* Ø´Ø±ÙŠØ· Ø­Ø§Ù„Ø© */
        .status-bar {
            background-color: #000000;
            color: #00ff00;
            padding: 5px 10px;
            font-family: "Courier New", monospace;
            font-size: 12px;
            border: 1px solid #00ff00;
            margin-top: 20px;
        }
        
        .footer {
            text-align: center;
            margin-top: 30px;
            padding: 10px;
            background-color: #c0c0c0;
            border-top: 2px groove #808080;
            font-size: 11px;
            color: #404040;
            clear: both;
        }
        
        .datetime {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: #000000;
            color: #00ff00;
            padding: 5px;
            font-family: "Courier New", monospace;
            font-size: 12px;
            border: 1px solid #00ff00;
        }
        
        /* Ù‚Ø³Ù… Ø§Ù„ØªØ­Ù‚Ù‚ */
        .verification-status {
            padding: 15px;
            margin: 15px 0;
            border: 2px groove #808080;
            text-align: center;
        }
        
        .verified {
            background-color: #ccffcc;
            border-color: #00cc00;
        }
        
        .not-verified {
            background-color: #ffffcc;
            border-color: #ffcc00;
        }
        
        /* Ù‚Ø³Ù… ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ */
        .edit-section {
            background-color: #f8f8f8;
            border: 2px groove #808080;
            padding: 20px;
            margin: 20px 0;
        }
        
        .edit-form {
            margin-top: 20px;
        }
        
        .edit-form input[type="text"],
        .edit-form input[type="password"],
        .edit-form input[type="email"],
        .edit-form input[type="file"] {
            width: 100%;
            padding: 8px;
            margin: 10px 0;
            border: 2px inset #808080;
            background-color: white;
            font-family: "Courier New", monospace;
        }
        
        .edit-form label {
            display: block;
            margin: 10px 0 5px 0;
            font-weight: bold;
            color: #000080;
        }
        
        /* ØµÙˆØ±Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ */
        .profile-picture {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            border: 3px solid #000080;
            background-color: #c0c0c0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            margin: 10px auto;
            overflow: hidden;
        }
        
        .profile-picture img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        /* Ù‚Ø³Ù… Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨ */
        .delete-section {
            background-color: #ffe6e6;
            border: 2px groove #cc0000;
            padding: 20px;
            margin: 30px 0;
        }
        
        .delete-section h4 {
            color: #cc0000;
            margin-top: 0;
        }
        
        .confirm-delete {
            background-color: #cc0000 !important;
            border-color: #ff4040 !important;
            margin-top: 15px;
        }
        
        .confirm-delete:hover {
            background-color: #ff0000 !important;
        }
        
        /* Ù‚Ø³Ù… Ø§Ù„Ø­Ø§Ù„Ø© ÙˆØ§Ù„Ø§ØªØµØ§Ù„ (Ø§Ù„Ù…Ø¶Ø§ÙØ© Ø­Ø¯ÙŠØ«Ø§Ù‹) */
        .connection-status {
            margin: 15px 0;
            padding: 10px;
            border: 2px groove #808080;
            background-color: #f0f0f0;
        }
        
        .connection-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-left: 8px;
            vertical-align: middle;
        }
        
        .online {
            background-color: #00ff00;
            box-shadow: 0 0 8px #00ff00;
        }
        
        .offline {
            background-color: #ff0000;
            box-shadow: 0 0 8px #ff0000;
        }
        
        .away {
            background-color: #ffff00;
            box-shadow: 0 0 8px #ffff00;
        }
        
        .connected-users {
            background-color: #f8f8f8;
            border: 2px groove #808080;
            padding: 15px;
            margin: 20px 0;
        }
        
        .connected-users h4 {
            color: #000080;
            border-bottom: 1px dotted #808080;
            padding-bottom: 8px;
            margin-top: 0;
        }
        
        .user-list {
            max-height: 200px;
            overflow-y: auto;
            margin: 10px 0;
        }
        
        .user-item {
            padding: 8px;
            border-bottom: 1px dotted #c0c0c0;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .user-item:last-child {
            border-bottom: none;
        }
        
        .user-avatar {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: #000080;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-left: 10px;
            font-size: 14px;
        }
        
        .user-info {
            flex: 1;
        }
        
        .user-name {
            font-weight: bold;
            color: #000080;
        }
        
        .user-status {
            font-size: 11px;
            color: #808080;
        }
        
        .connection-controls {
            text-align: center;
            margin: 15px 0;
            padding: 15px;
            border: 2px groove #808080;
            background-color: #f0f0f0;
        }
    </style>
</head>
<body onload="loadDashboard()">
    
    <div class="datetime" id="datetime">00:00:00</div>
    
    <div class="main-frame">
        <div class="title-bar">
            ğŸ–¥ï¸ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… - Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ­Ù‚Ù‚ 1999
        </div>
        
        <div class="content">
            <!-- Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© -->
            <div class="sidebar">
                <h3>ğŸ‘¤ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</h3>
                <ul>
                    <li><a href="#profile" onclick="showSection('profile')">ğŸ“‹ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</a></li>
                    <li><a href="#editProfile" onclick="loadEditProfile()">âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù„Ù</a></li>
                    <li><a href="#connection" onclick="showSection('connection')">ğŸ“¡ Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„</a></li>
                    <li><a href="#changePassword" onclick="showSection('changePassword')">ğŸ” ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</a></li>
                    <li><a href="#deleteAccount" onclick="showSection('deleteAccount')">ğŸ—‘ï¸ Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨</a></li>
                    <li><a href="#stats" onclick="showSection('stats')">ğŸ“Š Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</a></li>
                    <li><a href="#settings" onclick="showSection('settings')">âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</a></li>
                    <li><a href="#activity" onclick="showSection('activity')">ğŸ“ Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª</a></li>
                    <li><a href="#" onclick="logout()">ğŸšª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</a></li>
                </ul>
                
                <h3 style="margin-top: 30px;">ğŸ”§ Ø£Ø¯ÙˆØ§Øª Ø³Ø±ÙŠØ¹Ø©</h3>
                <ul>
                    <li><a href="index.html">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                    <li><a href="verify.html">ğŸ” Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ø³Ø§Ø¨</a></li>
                    <li><a href="#" onclick="exportData()">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</a></li>
                    <li><a href="#" onclick="printPage()">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø©</a></li>
                </ul>
                
                <!-- Ù‚Ø³Ù… Ø§Ù„Ø­Ø§Ù„Ø© ÙˆØ§Ù„Ø§ØªØµØ§Ù„ ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© -->
                <div style="margin-top: 20px; padding: 10px; background-color: #000000; border: 1px solid #00ff00;">
                    <div style="color: #00ff00; font-family: 'Courier New', monospace; font-size: 11px; text-align: center;">
                        <div>ğŸ–§ Ø­Ø§Ù„Ø© Ø§Ù„Ø´Ø¨ÙƒØ©:</div>
                        <div id="sidebarStatus">Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
                        <div style="margin-top: 5px;" id="sidebarUsersCount">ğŸ‘¥ 0 Ù…ØªØµÙ„</div>
                    </div>
                </div>
            </div>
            
            <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
            <div class="main-content">
                <!-- Ø±Ø³Ø§Ù„Ø© ØªØ±Ø­ÙŠØ¨ -->
                <div class="user-card">
                    <h2>ğŸ¯ Ù…Ø±Ø­Ø¨Ø§Ù‹ <span id="userName">Ù…Ø³ØªØ®Ø¯Ù…</span>!</h2>
                    <p>Ù„Ù‚Ø¯ Ø³Ø¬Ù„Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­ Ø¥Ù„Ù‰ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø¨ØªØ§Ø±ÙŠØ® <span id="loginDate">-</span></p>
                    
                    <!-- Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù‚Ù‚ -->
                    <div class="verification-status" id="verificationStatus">
                        â³ Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø³Ø§Ø¨...
                    </div>
                    
                    <!-- Ù…Ø¤Ø´Ø± Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„ (Ø§Ù„Ù…Ø¶Ø§ÙØ© Ø­Ø¯ÙŠØ«Ø§Ù‹) -->
                    <div class="connection-status">
                        <span style="font-weight: bold;">ğŸŒ Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„:</span>
                        <span class="connection-indicator" id="connectionIndicator"></span>
                        <span id="connectionStatusText">Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ù‚Ù‚...</span>
                        <div style="font-size: 12px; color: #808080; margin-top: 5px;">
                            <span id="onlineUsersCount">0</span> Ù…Ø³ØªØ®Ø¯Ù… Ù…ØªØµÙ„ Ø­Ø§Ù„ÙŠØ§Ù‹
                        </div>
                    </div>
                </div>
                
                <!-- Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ù†Ø´Ø· -->
                <div id="currentSection">
                    <!-- Ù‚Ø³Ù… Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ (Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ) -->
                    <div id="profile" class="section">
                        <h3 style="color: #000080; border-bottom: 2px groove #808080; padding-bottom: 5px;">
                            ğŸ“‹ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
                        </h3>
                        
                        <!-- ØµÙˆØ±Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ -->
                        <div style="text-align: center; margin-bottom: 20px;">
                            <div class="profile-picture" id="profilePicture">
                                ğŸ‘¤
                            </div>
                        </div>
                        
                        <table style="width: 100%; margin: 20px 0;">
                            <tr>
                                <td width="30%" style="padding: 10px; font-weight: bold;">ğŸ‘¤ Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„:</td>
                                <td style="padding: 10px;" id="profileFullName">-</td>
                            </tr>
                            <tr>
                                <td style="padding: 10px; font-weight: bold;">ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</td>
                                <td style="padding: 10px;" id="profileEmail">-</td>
                            </tr>
                            <tr>
                                <td style="padding: 10px; font-weight: bold;">ğŸ“… ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ³Ø¬ÙŠÙ„:</td>
                                <td style="padding: 10px;" id="profileCreatedAt">-</td>
                            </tr>
                            <tr>
                                <td style="padding: 10px; font-weight: bold;">âœ… Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø³Ø§Ø¨:</td>
                                <td style="padding: 10px;" id="profileStatus">-</td>
                            </tr>
                            <tr>
                                <td style="padding: 10px; font-weight: bold;">ğŸŒ Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„:</td>
                                <td style="padding: 10px;" id="profileConnectionStatus">-</td>
                            </tr>
                            <tr>
                                <td style="padding: 10px; font-weight: bold;">ğŸ†” Ø±Ù‚Ù… Ø§Ù„Ø¹Ø¶ÙˆÙŠØ©:</td>
                                <td style="padding: 10px;" id="profileID">-</td>
                            </tr>
                        </table>
                        
                        <div style="text-align: center; margin-top: 30px;">
                            <button class="action-button" onclick="loadEditProfile()">
                                âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
                            </button>
                            <button class="action-button" onclick="verifyAccount()">
                                ğŸ” Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ø³Ø§Ø¨
                            </button>
                            <button class="action-button" onclick="showSection('connection')">
                                ğŸ“¡ Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„
                            </button>
                        </div>
                    </div>
                    
                    <!-- Ù‚Ø³Ù… Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„ (Ø§Ù„Ù…Ø¶Ø§ÙØ© Ø­Ø¯ÙŠØ«Ø§Ù‹) -->
                    <div id="connection" class="section" style="display: none;">
                        <h3 style="color: #000080; border-bottom: 2px groove #808080; padding-bottom: 5px;">
                            ğŸ“¡ Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„
                        </h3>
                        
                        <div class="connection-controls">
                            <h4>ğŸ”Œ Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„</h4>
                            <div style="margin: 15px 0;">
                                <button class="action-button" onclick="setOnlineStatus('online')">
                                    <span class="connection-indicator online"></span> Ù…ØªØµÙ„
                                </button>
                                <button class="action-button" style="background-color: #ffff00; color: #000000; border-color: #cccc00;" onclick="setOnlineStatus('away')">
                                    <span class="connection-indicator away"></span> ØºÙŠØ± Ù…ØªØ§Ø­
                                </button>
                                <button class="action-button danger-button" onclick="setOnlineStatus('offline')">
                                    <span class="connection-indicator offline"></span> ØºÙŠØ± Ù…ØªØµÙ„
                                </button>
                            </div>
                            
                            <div style="margin: 20px 0; padding: 15px; background-color: #e8e8ff; border: 2px groove #808080;">
                                <div style="font-weight: bold;">ğŸ“Š Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø§ØªØµØ§Ù„:</div>
                                <div style="margin-top: 10px;">
                                    <span>ğŸŸ¢ Ù…ØªØµÙ„ÙˆÙ† Ø§Ù„Ø¢Ù†: <span id="onlineCount">0</span></span> |
                                    <span>ğŸŸ¡ ØºÙŠØ± Ù…ØªØ§Ø­ÙŠÙ†: <span id="awayCount">0</span></span> |
                                    <span>ğŸ”´ ØºÙŠØ± Ù…ØªØµÙ„ÙŠÙ†: <span id="offlineCount">0</span></span>
                                </div>
                                <div style="margin-top: 10px; font-size: 12px;">
                                    Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†: <span id="totalUsersCount">0</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù…ØªØµÙ„ÙŠÙ† -->
                        <div class="connected-users">
                            <h4>ğŸ‘¥ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ† Ø§Ù„Ù…ØªØµÙ„ÙˆÙ† Ø§Ù„Ø¢Ù† (<span id="connectedCount">0</span>)</h4>
                            
                            <div id="connectedUsersList" class="user-list">
                                <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                                <div style="text-align: center; padding: 20px; color: #808080;">
                                    Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†...
                                </div>
                            </div>
                            
                            <div style="text-align: center; margin-top: 15px;">
                                <button class="action-button" onclick="refreshConnectedUsers()">
                                    ğŸ”„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
                                </button>
                                <button class="action-button" onclick="testConnection()">
                                    ğŸ“¡ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„
                                </button>
                            </div>
                        </div>
                        
                        <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ -->
                        <div style="background-color: #f0f0f0; border: 2px groove #808080; padding: 15px; margin: 20px 0;">
                            <h4 style="color: #000080; margin-top: 0;">ğŸ”— Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„</h4>
                            <table style="width: 100%;">
                                <tr>
                                    <td style="padding: 8px; font-weight: bold;">â±ï¸ ÙˆÙ‚Øª Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ø£Ø®ÙŠØ±:</td>
                                    <td style="padding: 8px;" id="lastConnectionTime">-</td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px; font-weight: bold;">ğŸ“¶ Ø¬ÙˆØ¯Ø© Ø§Ù„Ø§ØªØµØ§Ù„:</td>
                                    <td style="padding: 8px;">
                                        <div style="background-color: #c0c0c0; height: 15px; width: 100%; border: 1px inset #808080;">
                                            <div id="connectionQualityBar" style="background-color: #00aa00; height: 100%; width: 85%;"></div>
                                        </div>
                                        <span id="connectionQualityText">Ø¬ÙŠØ¯ (85%)</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px; font-weight: bold;">ğŸ”„ Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«:</td>
                                    <td style="padding: 8px;" id="lastUpdateTime">-</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    
                    <!-- Ù‚Ø³Ù… ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ -->
                    <div id="editProfile" class="section" style="display: none;">
                        <h3 style="color: #000080; border-bottom: 2px groove #808080; padding-bottom: 5px;">
                            âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
                        </h3>
                        
                        <div class="edit-section">
                            <!-- ØµÙˆØ±Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ -->
                            <div style="text-align: center; margin-bottom: 30px;">
                                <div class="profile-picture" id="currentProfilePic">
                                    ğŸ‘¤
                                </div>
                                <div style="margin-top: 10px; font-size: 12px; color: #808080;">
                                    ØµÙˆØ±Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
                                </div>
                            </div>
                            
                            <!-- Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ -->
                            <div class="edit-form">
                                <form id="editProfileForm">
                                    <label>ğŸ‘¤ Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„:</label>
                                    <input type="text" id="editFullName" value="" required>
                                    
                                    <label>ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</label>
                                    <input type="email" id="editEmail" value="" required>
                                    
                                    <label>ğŸ–¼ï¸ ØªØºÙŠÙŠØ± Ø§Ù„ØµÙˆØ±Ø©:</label>
                                    <input type="file" id="profileImage" accept="image/*" onchange="previewImage(event)">
                                    <div style="font-size: 11px; color: #808080; margin: 5px 0;">
                                        ÙŠÙ…ÙƒÙ†Ùƒ ØªØ­Ù…ÙŠÙ„ ØµÙˆØ±Ø© Ø´Ø®ØµÙŠØ© (JPG, PNG)
                                    </div>
                                    
                                    <div style="text-align: center; margin-top: 30px;">
                                        <button type="submit" class="action-button">
                                            ğŸ’¾ Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
                                        </button>
                                        <button type="button" class="action-button" onclick="showSection('profile')">
                                            â†©ï¸ Ø¥Ù„ØºØ§Ø¡
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ù‚Ø³Ù… ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± -->
                    <div id="changePassword" class="section" style="display: none;">
                        <h3 style="color: #000080; border-bottom: 2px groove #808080; padding-bottom: 5px;">
                            ğŸ” ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
                        </h3>
                        
                        <div class="edit-section">
                            <div class="edit-form">
                                <form id="changePasswordForm">
                                    <label>ğŸ”‘ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ©:</label>
                                    <input type="password" id="currentPassword" required>
                                    
                                    <label>ğŸ†• ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©:</label>
                                    <input type="password" id="newPassword" required>
                                    <div style="font-size: 11px; color: #808080;">
                                        (6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„)
                                    </div>
                                    
                                    <label>âœ“ ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©:</label>
                                    <input type="password" id="confirmNewPassword" required>
                                    
                                    <div style="text-align: center; margin-top: 30px;">
                                        <button type="submit" class="action-button">
                                            ğŸ”„ ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
                                        </button>
                                        <button type="button" class="action-button" onclick="showSection('profile')">
                                            â†©ï¸ Ø¥Ù„ØºØ§Ø¡
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ù‚Ø³Ù… Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨ -->
                    <div id="deleteAccount" class="section" style="display: none;">
                        <h3 style="color: #cc0000; border-bottom: 2px groove #cc0000; padding-bottom: 5px;">
                            ğŸ—‘ï¸ Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨
                        </h3>
                        
                        <div class="delete-section">
                            <h4>âš ï¸ ØªØ­Ø°ÙŠØ± Ù‡Ø§Ù…!</h4>
                            <p>Ø¹Ù†Ø¯ Ø­Ø°Ù Ø­Ø³Ø§Ø¨Ùƒ:</p>
                            <ul style="margin-right: 20px;">
                                <li>âŒ Ø¬Ù…ÙŠØ¹ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø³ÙŠØªÙ… Ø­Ø°ÙÙ‡Ø§ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹</li>
                                <li>âŒ Ù„Ù† ØªØªÙ…ÙƒÙ† Ù…Ù† Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø­Ø³Ø§Ø¨Ùƒ</li>
                                <li>âŒ Ø³ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</li>
                                <li>âŒ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª Ø³ØªÙØ­Ø°Ù</li>
                            </ul>
                            
                            <div style="margin-top: 20px;">
                                <input type="checkbox" id="confirmDelete">
                                <label for="confirmDelete" style="color: #cc0000; font-weight: bold;">
                                    Ø£Ù†Ø§ Ø£Ø¯Ø±Ùƒ Ø£Ù† Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨ Ù†Ù‡Ø§Ø¦ÙŠ ÙˆÙ„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡
                                </label>
                            </div>
                            
                            <div style="margin-top: 30px;">
                                <label>ğŸ” Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù„Ù„ØªØ£ÙƒÙŠØ¯:</label>
                                <input type="password" id="deletePassword" style="width: 50%;">
                            </div>
                            
                            <div style="text-align: center; margin-top: 30px;">
                                <button onclick="deleteAccount()" class="action-button confirm-delete" disabled>
                                    ğŸ—‘ï¸ Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹
                                </button>
                                <button type="button" class="action-button" onclick="showSection('profile')">
                                    â†©ï¸ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø£Ù…Ø§Ù†
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ù‚Ø³Ù… Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
                    <div id="stats" class="section" style="display: none;">
                        <h3 style="color: #000080; border-bottom: 2px groove #808080; padding-bottom: 5px;">
                            ğŸ“Š Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
                        </h3>
                        
                        <div class="stats-grid">
                            <div class="stat-box">
                                <h3>ğŸ•’ ÙˆÙ‚Øª Ø§Ù„Ø¯Ø®ÙˆÙ„</h3>
                                <div class="stat-value" id="statLoginTime">00:00</div>
                            </div>
                            <div class="stat-box">
                                <h3>ğŸ“… Ø£ÙŠØ§Ù… Ø§Ù„Ø¹Ø¶ÙˆÙŠØ©</h3>
                                <div class="stat-value" id="statMembershipDays">0</div>
                            </div>
                            <div class="stat-box">
                                <h3>ğŸ“ Ø¹Ø¯Ø¯ Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª</h3>
                                <div class="stat-value" id="statActivities">0</div>
                            </div>
                            <div class="stat-box">
                                <h3>â­ Ø§Ù„Ù…Ø³ØªÙˆÙ‰</h3>
                                <div class="stat-value" id="statLevel">Ù…Ø¨ØªØ¯Ø¦</div>
                            </div>
                        </div>
                        
                        <h4 style="color: #000080; margin-top: 30px;">ğŸ“ˆ ØªÙ‚Ø¯Ù… Ø§Ù„Ø­Ø³Ø§Ø¨</h4>
                        <div style="background-color: #f0f0f0; border: 2px inset #808080; padding: 10px; margin: 10px 0;">
                            <div style="background-color: #000080; height: 20px; width: 25%;"></div>
                        </div>
                        <div style="text-align: center; font-size: 12px; color: #808080;">
                            ØªÙ… Ø¥ÙƒÙ…Ø§Ù„ 25% Ù…Ù† Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„ØªØ±Ù‚ÙŠØ©
                        </div>
                    </div>
                    
                    <!-- Ù‚Ø³Ù… Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª -->
                    <div id="settings" class="section" style="display: none;">
                        <h3 style="color: #000080; border-bottom: 2px groove #808080; padding-bottom: 5px;">
                            âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
                        </h3>
                        
                        <div style="background-color: #f8f8f8; border: 2px groove #808080; padding: 20px; margin: 20px 0;">
                            <h4>ğŸ”” Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</h4>
                            <div style="margin: 15px 0;">
                                <input type="checkbox" id="notifyEmail" checked>
                                <label for="notifyEmail">Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                            </div>
                            <div style="margin: 15px 0;">
                                <input type="checkbox" id="notifyUpdates" checked>
                                <label for="notifyUpdates">ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…</label>
                            </div>
                            <div style="margin: 15px 0;">
                                <input type="checkbox" id="notifyNews" checked>
                                <label for="notifyNews">Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ù…ÙˆÙ‚Ø¹</label>
                            </div>
                            
                            <button class="action-button" onclick="saveSettings()">
                                ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
                            </button>
                        </div>
                    </div>
                    
                    <!-- Ù‚Ø³Ù… Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª -->
                    <div id="activity" class="section" style="display: none;">
                        <h3 style="color: #000080; border-bottom: 2px groove #808080; padding-bottom: 5px;">
                            ğŸ“ Ø³Ø¬Ù„ Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª
                        </h3>
                        
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                                    <th>Ø§Ù„Ù†Ø´Ø§Ø·</th>
                                    <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                                </tr>
                            </thead>
                            <tbody id="activityTable">
                                <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                            </tbody>
                        </table>
                        
                        <div style="text-align: center; margin-top: 20px;">
                            <button class="action-button" onclick="clearActivity()">
                                ğŸ—‘ï¸ Ù…Ø³Ø­ Ø§Ù„Ø³Ø¬Ù„
                            </button>
                            <button class="action-button" onclick="refreshActivity()">
                                ğŸ”„ ØªØ­Ø¯ÙŠØ«
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ø­Ø§Ù„Ø© -->
                <div class="status-bar">
                    <span id="statusText">âœ… Ù…ØªØµÙ„ Ø¨Ø§Ù„Ù†Ø¸Ø§Ù… | ğŸ‘¤ <span id="statusUser">-</span> | ğŸ•’ <span id="statusTime">00:00:00</span> | ğŸŒ <span id="statusConnection">Ù…ØªØµÙ„</span> | ğŸ‘¥ <span id="statusOnlineCount">0</span> Ù…ØªØµÙ„ÙˆÙ†</span>
                </div>
            </div>
            
            <div style="clear: both;"></div>
        </div>
    </div>
    
    <div class="footer">
        <p>Â© 1999 Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… - Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ­Ù‚Ù‚ 1999</p>
        <p>Ø§Ù„Ø¥ØµØ¯Ø§Ø± 1.1.0 | Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: 15-12-1999</p>
        <p id="pageLoadTime">â±ï¸ ÙˆÙ‚Øª ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©: 0.00 Ø«Ø§Ù†ÙŠØ©</p>
    </div>

    <script>
        let currentUser = null;
        let activities = [];
        let connectionStatus = 'online'; // online, away, offline
        let connectedUsers = [];
        let connectionInterval;
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆÙ‚Øª
        function updateDateTime() {
            const now = new Date();
            const time = now.toLocaleTimeString('ar-SA');
            const date = now.toLocaleDateString('ar-SA');
            
            document.getElementById('datetime').textContent = `${date} ${time}`;
            document.getElementById('statusTime').textContent = time;
            
            setTimeout(updateDateTime, 1000);
        }
        
        // ØªØ­Ù…ÙŠÙ„ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
        function loadDashboard() {
            const startTime = performance.now();
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
            currentUser = JSON.parse(localStorage.getItem('currentUser1999'));
            if (!currentUser) {
                window.location.href = 'login.html';
                return;
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆÙ‚Øª
            updateDateTime();
            
            // ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            loadUserData();
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª
            loadActivities();
            
            // ØªÙ‡ÙŠØ¦Ø© Ù†Ø¸Ø§Ù… Ø§Ù„Ø§ØªØµØ§Ù„
            initConnectionSystem();
            
            // Ø¹Ø±Ø¶ Ù‚Ø³Ù… Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹
            showSection('profile');
            
            // Ø­Ø³Ø§Ø¨ ÙˆÙ‚Øª Ø§Ù„ØªØ­Ù…ÙŠÙ„
            const loadTime = ((performance.now() - startTime) / 1000).toFixed(2);
            document.getElementById('pageLoadTime').textContent = `â±ï¸ ÙˆÙ‚Øª ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©: ${loadTime} Ø«Ø§Ù†ÙŠØ©`;
            
            // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„Ø­Ø§Ù„Ø©
            document.getElementById('statusUser').textContent = currentUser.fullName;
            
            // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨
            document.getElementById('confirmDelete').addEventListener('change', function() {
                document.querySelector('.confirm-delete').disabled = !this.checked;
            });
            
            // Ø¨Ø¯Ø¡ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø§ØªØµØ§Ù„
            startConnectionMonitoring();
        }
        
        // ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        function loadUserData() {
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ù†Ø§ØµØ±
            document.getElementById('userName').textContent = currentUser.fullName;
            document.getElementById('profileFullName').textContent = currentUser.fullName;
            document.getElementById('profileEmail').textContent = currentUser.email;
            document.getElementById('profileID').textContent = currentUser.id || 'USER-' + Math.floor(Math.random() * 10000);
            
            // ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ³Ø¬ÙŠÙ„
            if (currentUser.createdAt) {
                document.getElementById('profileCreatedAt').textContent = currentUser.createdAt;
                document.getElementById('loginDate').textContent = new Date().toLocaleDateString('ar-SA');
                
                // Ø­Ø³Ø§Ø¨ Ø£ÙŠØ§Ù… Ø§Ù„Ø¹Ø¶ÙˆÙŠØ©
                const regDate = new Date();
                const days = Math.floor(Math.random() * 365) + 1;
                document.getElementById('statMembershipDays').textContent = days;
            }
            
            // Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø³Ø§Ø¨
            const statusDiv = document.getElementById('verificationStatus');
            if (currentUser.verified) {
                statusDiv.className = 'verification-status verified';
                statusDiv.innerHTML = 'âœ… <strong>Ø§Ù„Ø­Ø³Ø§Ø¨ Ù…ÙØ¹Ù„ ÙˆÙ…Ø¤ÙƒØ¯</strong> | ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ';
                document.getElementById('profileStatus').innerHTML = '<span style="color: #006600;">âœ… Ù…ÙØ¹Ù„ ÙˆÙ…Ø¤ÙƒØ¯</span>';
            } else {
                statusDiv.className = 'verification-status not-verified';
                statusDiv.innerHTML = 'âš ï¸ <strong>Ø§Ù„Ø­Ø³Ø§Ø¨ ØºÙŠØ± Ù…Ø¤ÙƒØ¯</strong> | <a href="verify.html" style="color: #000080;">Ø§Ù†Ù‚Ø± Ù‡Ù†Ø§ Ù„Ù„ØªØ­Ù‚Ù‚</a>';
                document.getElementById('profileStatus').innerHTML = '<span style="color: #cc6600;">âš ï¸ ØºÙŠØ± Ù…Ø¤ÙƒØ¯</span>';
            }
            
            // ÙˆÙ‚Øª Ø§Ù„Ø¯Ø®ÙˆÙ„
            const now = new Date();
            document.getElementById('statLoginTime').textContent = now.toLocaleTimeString('ar-SA', {hour: '2-digit', minute:'2-digit'});
            
            // ØªØ­Ù…ÙŠÙ„ ØµÙˆØ±Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
            const profilePic = localStorage.getItem(`profilePic_${currentUser.email}`);
            if (profilePic) {
                document.getElementById('profilePicture').innerHTML = `<img src="${profilePic}" alt="ØµÙˆØ±Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ">`;
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„ ÙÙŠ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
            updateConnectionStatusDisplay();
        }
        
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª
        function loadActivities() {
            // Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø´Ø§Ø·Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
            activities = [
                { date: '15-12-1999 10:30', activity: 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù†Ø¸Ø§Ù…', status: 'âœ…' },
                { date: '14-12-1999 16:45', activity: 'ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ', status: 'âœ…' },
                { date: '13-12-1999 09:15', activity: 'ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±', status: 'âœ…' },
                { date: '12-12-1999 14:20', activity: 'Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ', status: currentUser.verified ? 'âœ…' : 'â³' },
                { date: '11-12-1999 11:05', activity: 'Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨', status: 'âœ…' }
            ];
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯Ø¯
            document.getElementById('statActivities').textContent = activities.length;
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¬Ø¯ÙˆÙ„
            updateActivityTable();
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª
        function updateActivityTable() {
            const tableBody = document.getElementById('activityTable');
            tableBody.innerHTML = '';
            
            activities.forEach(activity => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${activity.date}</td>
                    <td>${activity.activity}</td>
                    <td>${activity.status}</td>
                `;
                tableBody.appendChild(row);
            });
        }
        
        // ØªÙ‡ÙŠØ¦Ø© Ù†Ø¸Ø§Ù… Ø§Ù„Ø§ØªØµØ§Ù„
        function initConnectionSystem() {
            // ØªØ­Ù…ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
            const savedStatus = localStorage.getItem(`connectionStatus_${currentUser.email}`);
            connectionStatus = savedStatus || 'online';
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù…ØªØµÙ„ÙŠÙ† Ø§ÙØªØ±Ø§Ø¶ÙŠÙŠÙ†
            generateConnectedUsers();
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±ÙˆØ¶
            updateConnectionStatusDisplay();
            updateConnectedUsersDisplay();
        }
        
        // Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù…ØªØµÙ„ÙŠÙ† Ø§ÙØªØ±Ø§Ø¶ÙŠÙŠÙ†
        function generateConnectedUsers() {
            const userNames = [
                'Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯', 'Ø³Ø§Ø±Ø© Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡', 'Ø®Ø§Ù„Ø¯ Ø¹Ù„ÙŠ', 'ÙØ§Ø·Ù…Ø© Ø­Ø³Ù†', 
                'Ù…Ø­Ù…ÙˆØ¯ Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…', 'Ù†ÙˆØ±Ø© Ø³Ø¹ÙŠØ¯', 'Ø¹Ù…Ø± Ø®Ø§Ù„Ø¯', 'Ù„ÙŠÙ†Ø¯Ø§ Ø¬Ù…Ø§Ù„',
                'ÙŠØ§Ø³ÙŠÙ† Ø±Ø§Ù…ÙŠ', 'Ù‡Ø¯Ù‰ ÙƒÙ…Ø§Ù„', 'Ù…ØµØ·ÙÙ‰ Ù†ÙˆØ±', 'Ø±ÙŠÙ…Ø§Ø³ ÙØ§Ø±Ø³'
            ];
            
            const statuses = ['online', 'away', 'offline'];
            
            connectedUsers = [];
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ
            connectedUsers.push({
                id: currentUser.id || 'user_0',
                name: currentUser.fullName,
                email: currentUser.email,
                status: connectionStatus,
                lastSeen: new Date().toISOString()
            });
            
            // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§ÙØªØ±Ø§Ø¶ÙŠÙŠÙ†
            for (let i = 0; i < 8; i++) {
                const status = statuses[Math.floor(Math.random() * statuses.length)];
                const lastSeen = new Date();
                lastSeen.setMinutes(lastSeen.getMinutes() - Math.floor(Math.random() * 60));
                
                connectedUsers.push({
                    id: 'user_' + (i + 1),
                    name: userNames[i % userNames.length],
                    email: `user${i + 1}@example.com`,
                    status: status,
                    lastSeen: lastSeen.toISOString(),
                    isCurrentUser: false
                });
            }
            
            // Ø­ÙØ¸ ÙÙŠ localStorage Ù„Ù„Ù…Ø­Ø§ÙƒØ§Ø©
            localStorage.setItem('connectedUsers1999', JSON.stringify(connectedUsers));
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„
        function updateConnectionStatusDisplay() {
            const indicator = document.getElementById('connectionIndicator');
            const statusText = document.getElementById('connectionStatusText');
            const profileConnectionStatus = document.getElementById('profileConnectionStatus');
            
            let statusArabic = '';
            let statusColor = '';
            
            switch(connectionStatus) {
                case 'online':
                    indicator.className = 'connection-indicator online';
                    statusArabic = 'ğŸŸ¢ Ù…ØªØµÙ„';
                    statusColor = '#006600';
                    break;
                case 'away':
                    indicator.className = 'connection-indicator away';
                    statusArabic = 'ğŸŸ¡ ØºÙŠØ± Ù…ØªØ§Ø­';
                    statusColor = '#996600';
                    break;
                case 'offline':
                    indicator.className = 'connection-indicator offline';
                    statusArabic = 'ğŸ”´ ØºÙŠØ± Ù…ØªØµÙ„';
                    statusColor = '#cc0000';
                    break;
            }
            
            statusText.textContent = statusArabic;
            profileConnectionStatus.innerHTML = `<span style="color: ${statusColor};">${statusArabic}</span>`;
            
            // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„Ø­Ø§Ù„Ø©
            document.getElementById('statusConnection').textContent = 
                connectionStatus === 'online' ? 'Ù…ØªØµÙ„' : 
                connectionStatus === 'away' ? 'ØºÙŠØ± Ù…ØªØ§Ø­' : 'ØºÙŠØ± Ù…ØªØµÙ„';
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©
            updateSidebarStatus();
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù…ØªØµÙ„ÙŠÙ†
        function updateConnectedUsersDisplay() {
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù…ØªØµÙ„ÙŠÙ†
            const savedUsers = localStorage.getItem('connectedUsers1999');
            if (savedUsers) {
                connectedUsers = JSON.parse(savedUsers);
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ
            const currentUserIndex = connectedUsers.findIndex(u => u.email === currentUser.email);
            if (currentUserIndex !== -1) {
                connectedUsers[currentUserIndex].status = connectionStatus;
                connectedUsers[currentUserIndex].lastSeen = new Date().toISOString();
            }
            
            // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
            const onlineCount = connectedUsers.filter(u => u.status === 'online').length;
            const awayCount = connectedUsers.filter(u => u.status === 'away').length;
            const offlineCount = connectedUsers.filter(u => u.status === 'offline').length;
            const totalCount = connectedUsers.length;
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯Ø§Ø¯Ø§Øª
            document.getElementById('onlineUsersCount').textContent = onlineCount;
            document.getElementById('onlineCount').textContent = onlineCount;
            document.getElementById('awayCount').textContent = awayCount;
            document.getElementById('offlineCount').textContent = offlineCount;
            document.getElementById('totalUsersCount').textContent = totalCount;
            document.getElementById('connectedCount').textContent = onlineCount + awayCount; // Ø§Ù„Ù…ØªØµÙ„ÙŠÙ† + ØºÙŠØ± Ø§Ù„Ù…ØªØ§Ø­ÙŠÙ†
            document.getElementById('statusOnlineCount').textContent = onlineCount;
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©
            document.getElementById('sidebarUsersCount').textContent = `ğŸ‘¥ ${onlineCount} Ù…ØªØµÙ„`;
            
            // Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù…ØªØµÙ„ÙŠÙ†
            const usersList = document.getElementById('connectedUsersList');
            usersList.innerHTML = '';
            
            // ØªØ±ØªÙŠØ¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†: Ø§Ù„Ù…ØªØµÙ„ÙˆÙ† Ø£ÙˆÙ„Ø§Ù‹ØŒ Ø«Ù… ØºÙŠØ± Ø§Ù„Ù…ØªØ§Ø­ÙŠÙ†ØŒ Ø«Ù… ØºÙŠØ± Ø§Ù„Ù…ØªØµÙ„ÙŠÙ†
            const sortedUsers = [...connectedUsers].sort((a, b) => {
                const statusOrder = { 'online': 0, 'away': 1, 'offline': 2 };
                return statusOrder[a.status] - statusOrder[b.status];
            });
            
            sortedUsers.forEach(user => {
                const userItem = document.createElement('div');
                userItem.className = 'user-item';
                
                // Ù„ÙˆÙ† Ø§Ù„Ø­Ø§Ù„Ø©
                let statusColor = '#808080';
                let statusText = '';
                switch(user.status) {
                    case 'online':
                        statusColor = '#00aa00';
                        statusText = 'ğŸŸ¢ Ù…ØªØµÙ„ Ø§Ù„Ø¢Ù†';
                        break;
                    case 'away':
                        statusColor = '#ffaa00';
                        statusText = 'ğŸŸ¡ ØºÙŠØ± Ù…ØªØ§Ø­';
                        break;
                    case 'offline':
                        statusColor = '#cc0000';
                        const lastSeen = new Date(user.lastSeen);
                        const diffMs = new Date() - lastSeen;
                        const diffMins = Math.floor(diffMs / 60000);
                        statusText = `ğŸ”´ ØºÙŠØ± Ù…ØªØµÙ„ (Ù‚Ø¨Ù„ ${diffMins} Ø¯Ù‚ÙŠÙ‚Ø©)`;
                        break;
                }
                
                // Ø§Ø®ØªØµØ§Ø± Ø§Ù„Ø§Ø³Ù… Ù„Ù„Ø£Ø­Ø±Ù Ø§Ù„Ø£ÙˆÙ„Ù‰
                const nameParts = user.name.split(' ');
                const initials = nameParts.map(part => part[0]).join('').toUpperCase();
                
                // ØªØ­Ø¯ÙŠØ¯ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ
                const isCurrentUser = user.email === currentUser.email;
                
                userItem.innerHTML = `
                    <div style="display: flex; align-items: center; width: 100%;">
                        <div class="user-avatar" style="background-color: ${isCurrentUser ? '#000080' : '#4040a0'};">
                            ${initials}
                        </div>
                        <div class="user-info">
                            <div class="user-name">
                                ${user.name} ${isCurrentUser ? '(Ø£Ù†Øª)' : ''}
                            </div>
                            <div class="user-status" style="color: ${statusColor};">
                                ${statusText}
                            </div>
                        </div>
                    </div>
                `;
                
                usersList.appendChild(userItem);
            });
            
            // ØªØ­Ø¯ÙŠØ« ÙˆÙ‚Øª Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«
            const now = new Date();
            document.getElementById('lastUpdateTime').textContent = now.toLocaleTimeString('ar-SA');
            document.getElementById('lastConnectionTime').textContent = now.toLocaleDateString('ar-SA') + ' ' + now.toLocaleTimeString('ar-SA', {hour: '2-digit', minute:'2-digit'});
            
            // ØªØ­Ø¯ÙŠØ« Ø¬ÙˆØ¯Ø© Ø§Ù„Ø§ØªØµØ§Ù„ (Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ù„Ù„Ù…Ø­Ø§ÙƒØ§Ø©)
            const quality = 70 + Math.floor(Math.random() * 30); // 70-100%
            document.getElementById('connectionQualityBar').style.width = `${quality}%`;
            document.getElementById('connectionQualityText').textContent = 
                quality >= 90 ? `Ù…Ù…ØªØ§Ø² (${quality}%)` : 
                quality >= 70 ? `Ø¬ÙŠØ¯ (${quality}%)` : 
                quality >= 50 ? `Ù…ØªÙˆØ³Ø· (${quality}%)` : `Ø¶Ø¹ÙŠÙ (${quality}%)`;
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©
        function updateSidebarStatus() {
            const statusText = document.getElementById('sidebarStatus');
            let status = '';
            
            switch(connectionStatus) {
                case 'online':
                    status = 'ğŸŸ¢ Ù…ØªØµÙ„';
                    break;
                case 'away':
                    status = 'ğŸŸ¡ ØºÙŠØ± Ù…ØªØ§Ø­';
                    break;
                case 'offline':
                    status = 'ğŸ”´ ØºÙŠØ± Ù…ØªØµÙ„';
                    break;
            }
            
            statusText.textContent = status;
        }
        
        // ØªØ¹ÙŠÙŠÙ† Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„
        function setOnlineStatus(status) {
            connectionStatus = status;
            
            // Ø­ÙØ¸ ÙÙŠ localStorage
            localStorage.setItem(`connectionStatus_${currentUser.email}`, status);
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±ÙˆØ¶
            updateConnectionStatusDisplay();
            updateConnectedUsersDisplay();
            
            // Ø¥Ø¶Ø§ÙØ© Ù†Ø´Ø§Ø·
            addActivity(`ØªØºÙŠÙŠØ± Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„ Ø¥Ù„Ù‰: ${status === 'online' ? 'Ù…ØªØµÙ„' : status === 'away' ? 'ØºÙŠØ± Ù…ØªØ§Ø­' : 'ØºÙŠØ± Ù…ØªØµÙ„'}`);
            
            alert(`âœ… ØªÙ… ØªØºÙŠÙŠØ± Ø­Ø§Ù„ØªÙƒ Ø¥Ù„Ù‰: ${status === 'online' ? 'Ù…ØªØµÙ„' : status === 'away' ? 'ØºÙŠØ± Ù…ØªØ§Ø­' : 'ØºÙŠØ± Ù…ØªØµÙ„'}`);
        }
        
        // ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù…ØªØµÙ„ÙŠÙ†
        function refreshConnectedUsers() {
            // ØªØ­Ø¯ÙŠØ« Ø¨Ø¹Ø¶ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø¹Ø´ÙˆØ§Ø¦ÙŠØ§Ù‹
            connectedUsers.forEach(user => {
                if (user.email !== currentUser.email && Math.random() > 0.7) {
                    const statuses = ['online', 'away', 'offline'];
                    const newStatus = statuses[Math.floor(Math.random() * statuses.length)];
                    user.status = newStatus;
                    user.lastSeen = new Date().toISOString();
                }
            });
            
            // Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
            localStorage.setItem('connectedUsers1999', JSON.stringify(connectedUsers));
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶
            updateConnectedUsersDisplay();
            
            // Ø¥Ø¶Ø§ÙØ© Ù†Ø´Ø§Ø·
            addActivity('ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù…ØªØµÙ„ÙŠÙ†');
            
            alert('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù…ØªØµÙ„ÙŠÙ†!');
        }
        
        // Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„
        function testConnection() {
            const testResult = Math.random() > 0.2; // 80% Ù†Ø¬Ø§Ø­
            const latency = Math.floor(Math.random() * 100) + 20; // 20-120ms
            
            if (testResult) {
                alert(`âœ… Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ù†Ø§Ø¬Ø­!\nâ±ï¸ ÙˆÙ‚Øª Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©: ${latency} Ù…Ù„Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©\nğŸ“¶ Ø§Ù„Ø¬ÙˆØ¯Ø©: ${latency < 50 ? 'Ù…Ù…ØªØ§Ø²Ø©' : latency < 100 ? 'Ø¬ÙŠØ¯Ø©' : 'Ù…Ù‚Ø¨ÙˆÙ„Ø©'}`);
                addActivity(`Ø§Ø®ØªØ¨Ø§Ø± Ø§ØªØµØ§Ù„ Ù†Ø§Ø¬Ø­ (${latency}ms)`);
            } else {
                alert('âŒ ÙØ´Ù„ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„!\nÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØªØµØ§Ù„Ùƒ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª ÙˆØ§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');
                addActivity('Ø§Ø®ØªØ¨Ø§Ø± Ø§ØªØµØ§Ù„ ÙØ§Ø´Ù„');
            }
        }
        
        // Ø¨Ø¯Ø¡ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø§ØªØµØ§Ù„
        function startConnectionMonitoring() {
            // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„ ÙƒÙ„ 30 Ø«Ø§Ù†ÙŠØ©
            connectionInterval = setInterval(() => {
                if (connectionStatus === 'online') {
                    // ØªØ­Ø¯ÙŠØ« ÙˆÙ‚Øª Ø¢Ø®Ø± Ø¸Ù‡ÙˆØ± Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ
                    const currentUserIndex = connectedUsers.findIndex(u => u.email === currentUser.email);
                    if (currentUserIndex !== -1) {
                        connectedUsers[currentUserIndex].lastSeen = new Date().toISOString();
                        localStorage.setItem('connectedUsers1999', JSON.stringify(connectedUsers));
                    }
                    
                    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶ Ø¨Ø´ÙƒÙ„ Ø¯ÙˆØ±ÙŠ
                    updateConnectedUsersDisplay();
                }
            }, 30000); // ÙƒÙ„ 30 Ø«Ø§Ù†ÙŠØ©
        }
        
        // Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ù…Ø­Ø¯Ø¯
        function showSection(sectionId) {
            // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
            document.querySelectorAll('#currentSection .section').forEach(section => {
                section.style.display = 'none';
            });
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ù…Ø·Ù„ÙˆØ¨
            document.getElementById(sectionId).style.display = 'block';
            
            // Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‚Ø³Ù… Ø§Ù„Ø§ØªØµØ§Ù„ØŒ Ù‚Ù… Ø¨ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶
            if (sectionId === 'connection') {
                updateConnectedUsersDisplay();
            }
            
            // Ø¥Ø¶Ø§ÙØ© Ù†Ø´Ø§Ø·
            if (sectionId !== 'profile') {
                addActivity(`Ø¹Ø±Ø¶ Ù‚Ø³Ù…: ${getSectionName(sectionId)}`);
            }
        }
        
        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„Ù‚Ø³Ù…
        function getSectionName(sectionId) {
            const names = {
                'profile': 'Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ',
                'connection': 'Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„',
                'editProfile': 'ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ',
                'changePassword': 'ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±',
                'deleteAccount': 'Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨',
                'stats': 'Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª',
                'settings': 'Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª',
                'activity': 'Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª'
            };
            return names[sectionId] || sectionId;
        }
        
        // Ø¥Ø¶Ø§ÙØ© Ù†Ø´Ø§Ø·
        function addActivity(activityText) {
            const now = new Date();
            const dateStr = now.toLocaleDateString('ar-SA') + ' ' + now.toLocaleTimeString('ar-SA', {hour: '2-digit', minute:'2-digit'});
            
            activities.unshift({
                date: dateStr,
                activity: activityText,
                status: 'âœ…'
            });
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¬Ø¯ÙˆÙ„
            updateActivityTable();
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯Ø¯
            document.getElementById('statActivities').textContent = activities.length;
        }
        
        // ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
        function loadEditProfile() {
            // Ù…Ù„Ø¡ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø¨Ù‚ÙŠÙ… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ
            document.getElementById('editFullName').value = currentUser.fullName;
            document.getElementById('editEmail').value = currentUser.email;
            
            // ØªØ­Ù…ÙŠÙ„ ØµÙˆØ±Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ Ø¥Ù† ÙˆØ¬Ø¯Øª
            const profilePic = localStorage.getItem(`profilePic_${currentUser.email}`);
            const previewElement = document.getElementById('currentProfilePic');
            if (profilePic) {
                previewElement.innerHTML = `<img src="${profilePic}" alt="ØµÙˆØ±Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ">`;
            } else {
                previewElement.innerHTML = 'ğŸ‘¤';
            }
            
            // Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ø³Ù…
            showSection('editProfile');
        }
        
        // Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø© Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        function previewImage(event) {
            const reader = new FileReader();
            reader.onload = function() {
                const preview = document.getElementById('currentProfilePic');
                preview.innerHTML = `<img src="${reader.result}" alt="ØµÙˆØ±Ø© Ù…Ø¹Ø§ÙŠÙ†Ø©">`;
            }
            reader.readAsDataURL(event.target.files[0]);
        }
        
        // Ø­ÙØ¸ ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
        document.getElementById('editProfileForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const newName = document.getElementById('editFullName').value.trim();
            const newEmail = document.getElementById('editEmail').value.trim();
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
            if (!newEmail.includes('@')) {
                alert('âŒ Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± ØµØ§Ù„Ø­!');
                return;
            }
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ù…Ø³ØªØ®Ø¯Ù… Ù…Ù† Ù‚Ø¨Ù„
            if (newEmail !== currentUser.email) {
                const users = JSON.parse(localStorage.getItem('users1999') || '[]');
                if (users.some(user => user.email === newEmail && user.email !== currentUser.email)) {
                    alert('âŒ Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø³ØªØ®Ø¯Ù… Ù…Ù† Ù‚Ø¨Ù„!');
                    return;
                }
            }
            
            // ØªØ­Ø¯ÙŠØ« ÙÙŠ localStorage
            let users = JSON.parse(localStorage.getItem('users1999') || '[]');
            const userIndex = users.findIndex(u => u.email === currentUser.email);
            
            if (userIndex !== -1) {
                // Ø­ÙØ¸ Ø§Ù„ØµÙˆØ±Ø© Ø¥Ù† ÙˆØ¬Ø¯Øª
                const imageInput = document.getElementById('profileImage');
                if (imageInput.files[0]) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        localStorage.setItem(`profilePic_${newEmail}`, e.target.result);
                    };
                    reader.readAsDataURL(imageInput.files[0]);
                }
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                users[userIndex].fullName = newName;
                users[userIndex].email = newEmail;
                localStorage.setItem('users1999', JSON.stringify(users));
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ
            currentUser.fullName = newName;
            currentUser.email = newEmail;
            localStorage.setItem('currentUser1999', JSON.stringify(currentUser));
            
            // Ø¥Ø¶Ø§ÙØ© Ù†Ø´Ø§Ø·
            addActivity('ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ');
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶
            loadUserData();
            
            // Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„ØµÙØ­Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
            showSection('profile');
            
            alert('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ Ø¨Ù†Ø¬Ø§Ø­!');
        });
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ø³Ø§Ø¨
        function verifyAccount() {
            if (currentUser.verified) {
                alert('âœ… Ø­Ø³Ø§Ø¨Ùƒ Ù…ÙØ¹Ù„ ÙˆÙ…Ø¤ÙƒØ¯ Ø¨Ø§Ù„ÙØ¹Ù„!');
            } else {
                if (confirm('Ø­Ø³Ø§Ø¨Ùƒ ØºÙŠØ± Ù…Ø¤ÙƒØ¯. Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ù„Ø°Ù‡Ø§Ø¨ Ø¥Ù„Ù‰ ØµÙØ­Ø© Ø§Ù„ØªØ­Ù‚Ù‚ØŸ')) {
                    window.location.href = 'verify.html';
                }
            }
        }
        
        // ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        document.getElementById('changePasswordForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const currentPass = document.getElementById('currentPassword').value;
            const newPass = document.getElementById('newPassword').value;
            const confirmPass = document.getElementById('confirmNewPassword').value;
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ©
            if (currentPass !== currentUser.password) {
                alert('âŒ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ© ØºÙŠØ± ØµØ­ÙŠØ­Ø©!');
                return;
            }
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
            if (newPass.length < 6) {
                alert('âŒ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† 6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„!');
                return;
            }
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ·Ø§Ø¨Ù‚ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ±
            if (newPass !== confirmPass) {
                alert('âŒ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©!');
                return;
            }
            
            // Ù…Ù†Ø¹ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†ÙØ³ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
            if (newPass === currentPass) {
                alert('âš ï¸ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ù…Ø®ØªÙ„ÙØ© Ø¹Ù† Ø§Ù„Ø­Ø§Ù„ÙŠØ©!');
                return;
            }
            
            // ØªØ­Ø¯ÙŠØ« ÙÙŠ localStorage
            let users = JSON.parse(localStorage.getItem('users1999') || '[]');
            const userIndex = users.findIndex(u => u.email === currentUser.email);
            
            if (userIndex !== -1) {
                users[userIndex].password = newPass;
                localStorage.setItem('users1999', JSON.stringify(users));
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ
            currentUser.password = newPass;
            localStorage.setItem('currentUser1999', JSON.stringify(currentUser));
            
            // Ø¥Ø¶Ø§ÙØ© Ù†Ø´Ø§Ø·
            addActivity('ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
            document.getElementById('changePasswordForm').reset();
            
            // Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„ØµÙØ­Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
            showSection('profile');
            
            alert('âœ… ØªÙ… ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¨Ù†Ø¬Ø§Ø­!');
        });
        
        // Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨
        function deleteAccount() {
            const password = document.getElementById('deletePassword').value;
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
            if (password !== currentUser.password) {
                alert('âŒ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©!');
                return;
            }
            
            if (!confirm('âš ï¸ Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ ØªÙ…Ø§Ù…Ø§Ù‹ Ù…Ù† Ø­Ø°Ù Ø­Ø³Ø§Ø¨ÙƒØŸ Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù†Ù‡Ø§Ø¦ÙŠ ÙˆÙ„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡!')) {
                return;
            }
            
            // Ø­Ø°Ù Ù…Ù† Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
            let users = JSON.parse(localStorage.getItem('users1999') || '[]');
            users = users.filter(user => user.email !== currentUser.email);
            localStorage.setItem('users1999', JSON.stringify(users));
            
            // Ø­Ø°Ù Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø´Ø®ØµÙŠØ©
            localStorage.removeItem(`profilePic_${currentUser.email}`);
            
            // Ø­Ø°Ù Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„
            localStorage.removeItem(`connectionStatus_${currentUser.email}`);
            
            // Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ
            localStorage.removeItem('currentUser1999');
            
            // Ø¥ÙŠÙ‚Ø§Ù Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø§ØªØµØ§Ù„
            clearInterval(connectionInterval);
            
            // Ø±Ø³Ø§Ù„Ø© ÙˆØ¯Ø§Ø¹
            alert('ğŸ‘‹ ØªÙ… Ø­Ø°Ù Ø­Ø³Ø§Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­. Ù†Ø£Ø³Ù Ù„Ø±Ø­ÙŠÙ„Ùƒ!');
            
            // Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
            window.location.href = 'index.html';
        }
        
        // Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
        function saveSettings() {
            alert('âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!');
            addActivity('Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª');
        }
        
        // Ù…Ø³Ø­ Ø³Ø¬Ù„ Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª
        function clearActivity() {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ù…Ø³Ø­ Ø³Ø¬Ù„ Ø§Ù„Ù†Ø´Ø§Ø·Ø§ØªØŸ')) {
                activities = [];
                updateActivityTable();
                document.getElementById('statActivities').textContent = '0';
                addActivity('Ù…Ø³Ø­ Ø³Ø¬Ù„ Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª');
            }
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª
        function refreshActivity() {
            loadActivities();
            alert('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø³Ø¬Ù„ Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª!');
        }
        
        // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function exportData() {
            const data = {
                user: currentUser,
                activities: activities,
                connectionStatus: connectionStatus,
                connectedUsers: connectedUsers,
                exportDate: new Date().toLocaleString('ar-SA')
            };
            
            const dataStr = JSON.stringify(data, null, 2);
            const blob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = `backup_${currentUser.id || 'user'}_${Date.now()}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            
            addActivity('Ø­ÙØ¸ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©');
            alert('âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!');
        }
        
        // Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ØµÙØ­Ø©
        function printPage() {
            window.print();
            addActivity('Ø·Ø¨Ø§Ø¹Ø© ØµÙØ­Ø© Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…');
        }
        
        // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
        function logout() {
            if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ØŸ')) {
                // ØªØ¹ÙŠÙŠÙ† Ø­Ø§Ù„Ø© ØºÙŠØ± Ù…ØªØµÙ„ Ø¹Ù†Ø¯ Ø§Ù„Ø®Ø±ÙˆØ¬
                setOnlineStatus('offline');
                
                addActivity('ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø§Ù„Ù†Ø¸Ø§Ù…');
                localStorage.removeItem('currentUser1999');
                
                // Ø¥ÙŠÙ‚Ø§Ù Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø§ØªØµØ§Ù„
                clearInterval(connectionInterval);
                
                window.location.href = 'login.html';
            }
        }
        
        // ØªÙ†Ø¸ÙŠÙ Ø§Ù„ÙØ§ØµÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ Ø¹Ù†Ø¯ Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ØµÙØ­Ø©
        window.addEventListener('beforeunload', function() {
            clearInterval(connectionInterval);
        });
    </script>
</body>
</html>
